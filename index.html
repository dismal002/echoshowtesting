<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Download Binary and Save</title>
</head>
<body>
  <button id="saveFromURL">Hack Me!</button>

  <script>
    async function downloadAndSaveBinaryFile() {
      const fileUrl = 'https://github.com/dismal002/echoshowtesting/raw/refs/heads/main/Nova.apk'; // change this to your binary file URL

      try {
        // Fetch the binary file as a blob
        const response = await fetch(fileUrl);
        if (!response.ok) throw new Error(`HTTP ${response.status}`);
        const blob = await response.blob();

        // Prompt the user to select a directory
        const dirHandle = await window.showDirectoryPicker();

        // Create a file with the same name or a fixed one
        const fileHandle = await dirHandle.getFileHandle('downloaded_file.bin', { create: true });
        const writable = await fileHandle.createWritable();

        // Write the blob to the file
        await writable.write(blob);

        // Finalize write
        await writable.close();

        alert('File downloaded and saved successfully!');
      } catch (err) {
        console.error('Error downloading or saving:', err);
        alert('Something went wrong.');
      }
    }

    document.getElementById('saveFromURL').addEventListener('click', downloadAndSaveBinaryFile);
  </script>
</body>
</html>
